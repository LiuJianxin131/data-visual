(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{303:function(e,t){},304:function(e,t){},40:function(e,t,o){"use strict";var n=o(0),a=o(172);o(304);class i extends n.Component{constructor(e){super(e),this.handleColorPickerChange=this.handleColorPickerChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(e){this.props.onColorChange(e.target.value)}handleColorPickerChange(e){let t=e.hex;if(1!==e.rgb.a){const{r:o,g:n,b:a,a:i}=e.rgb;t=`rgba(${o},${n},${a},${i})`}this.props.onColorChange(t)}render(){const{color:e}=this.props,{onColorPreviewClick:t,isShowColorPicker:o,onColorPickerChangeComplete:i,onInputKeyDown:l,disabled:r,colorPickerStyle:h}=this.props;return n.createElement("div",{className:`color_input_wrapper ${r&&"color_input_wrapper_disable"}`},n.createElement("div",{className:"color_preview_wrapper",onClick:t},n.createElement("span",{style:{background:e},className:"color_preview"})),n.createElement("input",{disabled:r,type:"text",className:"color_input",value:e,onKeyDown:l,onChange:this.handleInputChange}),n.createElement("div",{className:"color_colorpicker",style:Object.assign({},h)},o&&!r&&n.createElement(a.ChromePicker,{color:e,onChangeComplete:i,onChange:this.handleColorPickerChange})))}}i.defaultProps={isShowColorPicker:!1,disabled:!1,autoPosition:!1,colorPickerStyle:{position:"relative",top:"10px",zIndex:1}},o(303),o.d(t,"a",function(){return r});const l={position:"fixed",left:0,top:0,zIndex:1,width:"100%",height:"100%"};class r extends n.Component{constructor(e){super(e),this.inputRef=n.createRef(),this.showColorPicker=this.showColorPicker.bind(this),this.hideColorPicker=this.hideColorPicker.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.handleColorPickerChangeComplete=this.handleColorPickerChangeComplete.bind(this),this.state={isShowColorPicker:!1,colorPickStyle:{}}}handleColorPickerChangeComplete(e){const{r:t,g:o,b:n,a:a}=e.rgb,i=`rgba(${t},${o},${n},${a})`;this.props.onColorComplete(i)}handleInputKeyDown(e){"enter"===e.key.toLocaleLowerCase()&&this.props.onColorComplete(e.currentTarget.value)}showColorPicker(){if(this.props.disabled)return;let e=this.inputRef.current.getBoundingClientRect();this.setState({isShowColorPicker:!0,colorPickStyle:{zIndex:1,position:"fixed",top:e.top+25,left:e.left-200}})}hideColorPicker(){this.setState({isShowColorPicker:!1})}shouldComponentUpdate(e,t){return this.props.disabled!==e.disabled||this.props.color!==e.color||this.state.isShowColorPicker!==t.isShowColorPicker}render(){const{color:e,onColorChange:t,disabled:o}=this.props,{isShowColorPicker:a,colorPickStyle:r}=this.state;return n.createElement("div",{ref:this.inputRef,style:{display:"inline-block"}},n.createElement("div",{className:"color_mask",onClick:this.hideColorPicker,hidden:!a,style:Object.assign({},l)}),n.createElement(i,{colorPickerStyle:r,disabled:o,onColorChange:t,onInputKeyDown:this.handleInputKeyDown,onColorPickerChangeComplete:this.handleColorPickerChangeComplete,style:{position:"relative"},isShowColorPicker:a,onColorPreviewClick:this.showColorPicker,color:e}))}}r.defaultProps={disabled:!1}},771:function(e,t,o){"use strict";o.r(t),o.d(t,"default",function(){return p});var n=o(0),a=o(6),i=o.n(a),l=o(8),r=o(31),h=o(40),s=o(34),c=(o(71),o(11)),d=(o(79),o(44));o(123);class p extends n.Component{constructor(e){super(e),this.handlePositionInputChange=this.handlePositionInputChange.bind(this),this.handleSwitchChange=this.handleSwitchChange.bind(this),this.handleColorChange=this.handleColorChange.bind(this),this.handleColorComplete=this.handleColorComplete.bind(this),this.handleFontSizeChange=this.handleFontSizeChange.bind(this),this.handleFontWeightChange=this.handleFontWeightChange.bind(this),this.renderDataOption=this.renderDataOption.bind(this),this.handleSelectChange=this.handleSelectChange.bind(this),this.state={color:""}}handlePositionInputChange(e,t){const{chart:o,updateChart:n}=this.props;n(i()(o,{option:{legend:{[e]:{$set:t}}}}))}handleColorChange(e){this.setState({color:e})}handleColorComplete(e){const{chart:t,updateChart:o}=this.props;o(i()(t,{option:{legend:{textStyle:{color:{$set:e}}}}}))}handleSwitchChange(e){const{chart:t,updateChart:o}=this.props;o(i()(t,{option:{legend:{show:{$set:e}}}}))}handleFontSizeChange(e){const{chart:t,updateChart:o}=this.props;o(i()(t,{option:{legend:{textStyle:{fontSize:{$set:e}}}}}))}handleFontWeightChange(e){const{chart:t,updateChart:o}=this.props;o(i()(t,{option:{legend:{textStyle:{fontWeight:{$set:e}}}}}))}handleSelectChange(e){const{updateChart:t,chart:o}=this.props;t(i()(o,{option:{legend:{data:{$set:[...e]}}}}))}renderDataOption(){const{series:e}=this.props.chart.option;let t=[];return e.forEach(e=>{let o=e.name;""!==o&&t.push(o),e.data.forEach(e=>{"number"!=typeof e&&t.push(e.name)})}),t.map((e,t)=>n.createElement(c.a.Option,{value:e,key:e+t},e))}static getDerivedStateFromProps(e){const{legend:{textStyle:{color:t},data:o}}=e.chart.option;let n=[];return void 0!==o&&(n=o),{color:t,data:n}}shouldComponentUpdate(e,t){return e.chart.option.legend!==this.props.chart.option.legend||t.color!==this.state.color}render(){const{show:e,left:t,top:o,textStyle:a,data:i}=this.props.chart.option.legend,{fontSize:p,fontWeight:C}=a;return n.createElement("div",{className:"legend_wrapper"},n.createElement(l.a,{name:"显示"},n.createElement(s.a,{checked:e,onChange:this.handleSwitchChange})),n.createElement(l.a,{name:"图标"},n.createElement(c.a,{value:i,onChange:this.handleSelectChange,style:{width:"100%"},mode:"multiple",size:"small"},this.renderDataOption())),n.createElement(l.a,{name:"位置"},n.createElement(r.a,null,n.createElement(r.a.Input,{name:"横轴",value:t,onChange:e=>this.handlePositionInputChange("left",e)}),n.createElement(r.a.Input,{name:"纵轴",value:o,onChange:e=>this.handlePositionInputChange("top",e)}))),n.createElement(l.a,{name:"字体颜色"},n.createElement(h.a,{color:this.state.color,onColorChange:this.handleColorChange,onColorComplete:this.handleColorComplete})),n.createElement(l.a,{className:"fontsize",name:"字体大小"},n.createElement(d.a,{value:p,size:"small",onChange:this.handleFontSizeChange}),n.createElement(c.a,{size:"small",defaultValue:C,onChange:this.handleFontWeightChange},n.createElement(c.a.Option,{value:"normal"},"normal"),n.createElement(c.a.Option,{value:"lighter"},"lighter"),n.createElement(c.a.Option,{value:"bold"},"bold"))))}}}}]);
//# sourceMappingURL=9.5bba8c1ebf2939cc0f24.js.map