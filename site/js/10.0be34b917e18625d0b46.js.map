{"version":3,"sources":["webpack:///./FrontEnd/controls/size-position/index.tsx"],"names":["Input","_components_double_input__WEBPACK_IMPORTED_MODULE_3__","a","SizePosition","react__WEBPACK_IMPORTED_MODULE_0__","Component","[object Object]","props","super","this","handleWidthChange","bind","handleHeightChange","handleLeftChange","handleTopChange","width","chart","updateChart","immutability_helper__WEBPACK_IMPORTED_MODULE_1___default","size","$set","height","left","position","top","num","roundNum","Math","round","isNaN","nextProps","createElement","_components_setting_item__WEBPACK_IMPORTED_MODULE_2__","name","min","value","onChange"],"mappings":"kLAMA,MAAMA,EAAQC,EAAAC,EAAYF,YAEZG,UAA4BC,EAAAC,UACxCC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,kBAAoBD,KAAKC,kBAAkBC,KAAKF,MACrDA,KAAKG,mBAAqBH,KAAKG,mBAAmBD,KAAKF,MACvDA,KAAKI,iBAAmBJ,KAAKI,iBAAiBF,KAAKF,MACnDA,KAAKK,gBAAkBL,KAAKK,gBAAgBH,KAAKF,MAGnDH,kBAAkBS,GAChB,MAAMC,MAAEA,EAAKC,YAAEA,GAAgBR,KAAKF,MACpCU,EAAYC,IAAOF,GACjBG,MACEJ,OACEK,KAAML,OAMdT,mBAAmBe,GACjB,MAAML,MAAEA,EAAKC,YAAEA,GAAgBR,KAAKF,MACpCU,EAAYC,IAAOF,GACjBG,MACEE,QACED,KAAMC,OAMdf,iBAAiBgB,GACf,MAAMN,MAAEA,EAAKC,YAAEA,GAAgBR,KAAKF,MACpCU,EAAYC,IAAOF,GACjBO,UACED,MACEF,KAAME,OAMdhB,gBAAgBkB,GACd,MAAMR,MAAEA,EAAKC,YAAEA,GAAgBR,KAAKF,MACpCU,EAAYC,IAAOF,GACjBO,UACEC,KACEJ,KAAMI,OAMdlB,MAAMmB,GACJ,IAAIC,EAAWC,KAAKC,MAAMH,GAC1B,OAAII,MAAMH,GACDD,EAEFC,EAGTpB,sBAAsBwB,GACpB,OAAOA,EAAUd,MAAMG,OAASV,KAAKF,MAAMS,MAAMG,MAAQW,EAAUd,MAAMO,WAAad,KAAKF,MAAMS,MAAMO,SAGzGjB,SACE,IAAMiB,UAAUD,KAAEA,EAAIE,IAAEA,GAAOL,MAAMJ,MAAEA,EAAKM,OAAEA,IAAaZ,KAAKF,MAAMS,MAGtE,OAFAM,EAAOb,KAAKmB,MAAMN,GAAOE,EAAMf,KAAKmB,MAAMJ,GACxCT,EAAQN,KAAKmB,MAAMb,GAAQM,EAASZ,KAAKmB,MAAMP,GAE/CjB,EAAA2B,cAAA,WACE3B,EAAA2B,cAACC,EAAA9B,GAAK+B,KAAK,MACT7B,EAAA2B,cAAC9B,EAAAC,EAAW,KACVE,EAAA2B,cAAC/B,GAAMiC,KAAK,KAAKC,IAAK,EAAGC,MAAOpB,EAAOqB,SAAU3B,KAAKC,oBACtDN,EAAA2B,cAAC/B,GAAMiC,KAAK,KAAKC,IAAK,EAAGC,MAAOd,EAAQe,SAAU3B,KAAKG,uBAG3DR,EAAA2B,cAACC,EAAA9B,GAAK+B,KAAK,MACT7B,EAAA2B,cAAC9B,EAAAC,EAAW,KACVE,EAAA2B,cAAC/B,GAAMiC,KAAK,KAAKE,MAAOb,EAAMc,SAAU3B,KAAKI,mBAC7CT,EAAA2B,cAAC/B,GAAMiC,KAAK,KAAKE,MAAOX,EAAKY,SAAU3B,KAAKK","file":"js/10.0be34b917e18625d0b46.js","sourcesContent":["import * as React from 'react';\nimport update from 'immutability-helper';\nimport Item from '@components/setting-item';\nimport DoubleInput from '@components/double-input';\nimport { IControlProps } from '@controls/index';\n\nconst Input = DoubleInput.Input;\n\nexport default class SizePosition extends React.Component<IControlProps, undefined> {\n  constructor(props: IControlProps) {\n    super(props);\n    this.handleWidthChange = this.handleWidthChange.bind(this);\n    this.handleHeightChange = this.handleHeightChange.bind(this);\n    this.handleLeftChange = this.handleLeftChange.bind(this);\n    this.handleTopChange = this.handleTopChange.bind(this);\n  }\n\n  handleWidthChange(width: number) {\n    const { chart, updateChart } = this.props;\n    updateChart(update(chart, {\n      size: {\n        width: {\n          $set: width\n        }\n      }\n    }));\n  }\n\n  handleHeightChange(height: number) {\n    const { chart, updateChart } = this.props;\n    updateChart(update(chart, {\n      size: {\n        height: {\n          $set: height\n        }\n      }\n    }));\n  }\n\n  handleLeftChange(left: number) {\n    const { chart, updateChart } = this.props;\n    updateChart(update(chart, {\n      position: {\n        left: {\n          $set: left\n        }\n      }\n    }));\n  }\n\n  handleTopChange(top: number) {\n    const { chart, updateChart } = this.props;\n    updateChart(update(chart, {\n      position: {\n        top: {\n          $set: top\n        }\n      }\n    }));\n  }\n\n  round(num: number) {\n    let roundNum = Math.round(num);\n    if (isNaN(roundNum)) {\n      return num;\n    }\n    return roundNum;\n  }\n\n  shouldComponentUpdate(nextProps: IControlProps) {\n    return nextProps.chart.size !== this.props.chart.size || nextProps.chart.position !== this.props.chart.position;\n  }\n\n  render() {\n    let { position: { left, top }, size: { width, height } } = this.props.chart;\n    left = this.round(left), top = this.round(top),\n      width = this.round(width as number), height = this.round(height as number);\n    return (\n      <div>\n        <Item name='尺寸'>\n          <DoubleInput>\n            <Input name='宽度' min={0} value={width} onChange={this.handleWidthChange} />\n            <Input name='高度' min={0} value={height} onChange={this.handleHeightChange} />\n          </DoubleInput>\n        </Item>\n        <Item name='位置'>\n          <DoubleInput>\n            <Input name='横轴' value={left} onChange={this.handleLeftChange} />\n            <Input name='纵轴' value={top} onChange={this.handleTopChange} />\n          </DoubleInput>\n        </Item>\n      </div>\n    );\n  }\n}"],"sourceRoot":""}