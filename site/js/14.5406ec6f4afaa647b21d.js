(window.webpackJsonp=window.webpackJsonp||[]).push([[14,4],{285:function(e,o,t){"use strict";t.r(o),t.d(o,"default",function(){return i});var r=t(0),l=t(6),n=t.n(l),s=t(40);class i extends r.Component{constructor(e){super(e),this.handleColorComplete=this.handleColorComplete.bind(this),this.handleColorChange=this.handleColorChange.bind(this),this.state={colors:[]}}handleColorComplete(){this.props.onColorComplete([...this.state.colors])}handleColorChange(e,o){this.setState({colors:n()(this.state.colors,{$splice:[[e,1,o]]})})}static getDerivedStateFromProps(e){return{colors:e.colors}}render(){const{colors:e}=this.state;return r.createElement("div",{className:"color_input_group"},e.map((e,o)=>r.createElement(s.a,{disabled:this.props.disabled,key:o,color:e,onColorChange:e=>this.handleColorChange(o,e),onColorComplete:this.handleColorComplete})))}}i.defaultProps={disabled:!1}},302:function(e,o){},303:function(e,o){},40:function(e,o,t){"use strict";var r=t(0),l=t(172);t(303);class n extends r.Component{constructor(e){super(e),this.handleColorPickerChange=this.handleColorPickerChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(e){this.props.onColorChange(e.target.value)}handleColorPickerChange(e){let o=e.hex;if(1!==e.rgb.a){const{r:t,g:r,b:l,a:n}=e.rgb;o=`rgba(${t},${r},${l},${n})`}this.props.onColorChange(o)}render(){const{color:e}=this.props,{onColorPreviewClick:o,isShowColorPicker:t,onColorPickerChangeComplete:n,onInputKeyDown:s,disabled:i,colorPickerStyle:a}=this.props;return r.createElement("div",{className:`color_input_wrapper ${i&&"color_input_wrapper_disable"}`},r.createElement("div",{className:"color_preview_wrapper",onClick:o},r.createElement("span",{style:{background:e},className:"color_preview"})),r.createElement("input",{disabled:i,type:"text",className:"color_input",value:e,onKeyDown:s,onChange:this.handleInputChange}),r.createElement("div",{className:"color_colorpicker",style:Object.assign({},a)},t&&!i&&r.createElement(l.ChromePicker,{color:e,onChangeComplete:n,onChange:this.handleColorPickerChange})))}}n.defaultProps={isShowColorPicker:!1,disabled:!1,autoPosition:!1,colorPickerStyle:{position:"relative",top:"10px",zIndex:1}},t(302),t.d(o,"a",function(){return i});const s={position:"fixed",left:0,top:0,zIndex:1,width:"100%",height:"100%"};class i extends r.Component{constructor(e){super(e),this.inputRef=r.createRef(),this.showColorPicker=this.showColorPicker.bind(this),this.hideColorPicker=this.hideColorPicker.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.handleColorPickerChangeComplete=this.handleColorPickerChangeComplete.bind(this),this.state={isShowColorPicker:!1,colorPickStyle:{}}}handleColorPickerChangeComplete(e){const{r:o,g:t,b:r,a:l}=e.rgb,n=`rgba(${o},${t},${r},${l})`;this.props.onColorComplete(n)}handleInputKeyDown(e){"enter"===e.key.toLocaleLowerCase()&&this.props.onColorComplete(e.currentTarget.value)}showColorPicker(){if(this.props.disabled)return;let e=this.inputRef.current.getBoundingClientRect();this.setState({isShowColorPicker:!0,colorPickStyle:{zIndex:1,position:"fixed",top:e.top+25,left:e.left-200}})}hideColorPicker(){this.setState({isShowColorPicker:!1})}shouldComponentUpdate(e,o){return this.props.disabled!==e.disabled||this.props.color!==e.color||this.state.isShowColorPicker!==o.isShowColorPicker}render(){const{color:e,onColorChange:o,disabled:t}=this.props,{isShowColorPicker:l,colorPickStyle:i}=this.state;return r.createElement("div",{ref:this.inputRef,style:{display:"inline-block"}},r.createElement("div",{className:"color_mask",onClick:this.hideColorPicker,hidden:!l,style:Object.assign({},s)}),r.createElement(n,{colorPickerStyle:i,disabled:t,onColorChange:o,onInputKeyDown:this.handleInputKeyDown,onColorPickerChangeComplete:this.handleColorPickerChangeComplete,style:{position:"relative"},isShowColorPicker:l,onColorPreviewClick:this.showColorPicker,color:e}))}}i.defaultProps={disabled:!1}},615:function(e,o){},775:function(e,o,t){"use strict";t.r(o),t.d(o,"default",function(){return h});var r=t(0),l=t(35),n=(t(77),t(6)),s=t.n(n),i=t(285),a=t(8);t(615);class h extends r.Component{constructor(e){super(e),this.handleColorComplete=this.handleColorComplete.bind(this),this.handleSwitchChange=this.handleSwitchChange.bind(this)}handleColorComplete(e){const{updateChart:o,chart:t}=this.props;o(s()(t,{option:{color:{$set:e}}}))}handleSwitchChange(e){const{updateChart:o,chart:t,colors:r}=this.props;let l=[...t.option.color];e&&(l=[...r]),o(s()(t,{option:{color:{$set:l}},colorFromGlobal:{$set:e}}))}shouldComponentUpdate(e){return e.colors!==this.props.colors||e.chart.colorFromGlobal!==this.props.chart.colorFromGlobal||e.chart.option.color!==this.props.chart.option.color}render(){const{chart:e,colors:o,name:t}=this.props,{colorFromGlobal:n,option:{color:s}}=e;let h=n||0===s.length?o:s;return r.createElement(a.a,{style:{margin:"-5px 0 0 0",borderBottom:"none"},name:t},r.createElement("div",null,r.createElement("div",{className:"palette_switch_wrapper"},r.createElement("span",{className:"palette_text"},"全局色系"),r.createElement(l.a,{className:"palette_switch",checked:n,onChange:this.handleSwitchChange})),r.createElement(i.default,{disabled:n,colors:h,onColorComplete:this.handleColorComplete})))}}}}]);
//# sourceMappingURL=14.5406ec6f4afaa647b21d.js.map